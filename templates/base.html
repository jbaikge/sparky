{{ define "header" -}}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="rendered" content="{{ .RenderedTemplate }}">
    <title>{{ with .Title }}{{ . }} | {{ end }}Sparky</title>
    <script src="/admin/assets/js/color-scheme.js"></script>
    <link rel="stylesheet" type="text/css" href="/admin/assets/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/themes/light.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/themes/dark.css">
  </head>
  <body hx-ext="shoelace">
{{ end }}

{{ define "footer" }}
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/shoelace.js"></script>
    <script src="https://unpkg.com/htmx.org@1.9.11"></script>
    <script src="/admin/assets/js/htmx.ext.shoelace.js"></script>
  </body>
</html>
{{- end }}

{{ define "base" }}
{{- template "header" . }}
    <div class="main-grid">
      <header>
        <sl-icon-button name="list"></sl-icon-button>
        <h1>Sparky</h1>
        <sl-avatar label="User avatar" initials="{{ .Admin.Initials }}" class="avatar"></sl-avatar>
      </header>
      <nav>
        <ol hx-target="main">
          <li{{ if .PageActiveDashboard }} class="active"{{ end }}>
            <a hx-get="/admin/htmx/dashboard" hx-push-url="/admin/dashboard">Dashboard</a>
          </li>
          <li{{ if .PageActiveEvents }} class="active"{{ end }}>
            <a hx-get="/admin/htmx/events">Events</a>
          </li>
          <li{{ if .PageActiveUsers }} class="active"{{ end }}>
            <a hx-get="/admin/htmx/users/list" hx-push-url="/admin/users/list">Users</a>
          </li>
        </ol>
      </nav>
      <main hx-get="{{ .Path }}" hx-target="this" hx-trigger="load" hx-history-elt></main>
      <footer>
        Footer diagnostics
      </footer>
    </div>
{{ template "footer" . -}}
{{ end }}
